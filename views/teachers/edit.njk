{% extends "layout.njk" %}
{% block content %}
    <div class="card">
        <section class="img">
            <img src="{{teacher.avatar_url}}" alt="">
        </section>
        <section class="details">
            <form action="/teachers?_method=PUT" method="POST" >
                <h3>editar professor</h3>
                {% include "teachers/fields.njk" %}
                <input type="hidden" name="id" value="{{teacher.id}}">
                <button type="submit">Salvar</button> 
            </form>

            <form id="form-delete"action="/teachers?_method=DELETE" method="POST">
                <input type="hidden" name="id" value={{teacher.id}}>
                <button type="submit" onclick="confirmation">Deletar</button>
            </form>
            <script>
                function confirmation(){
                    const formDelete = document.getElementById('form-delete')
                    console.log(formDelete)
                        formDelete = addEventListener('submit', function(event){
                        console.log(formDelete)
                        const confirmation = confirm('Deseja deletar?')
                        if(!confirmation){
                            event.preventDefault()
                        }
                        console.log(confirmation)
                    })
                }
            </script>    
        </section>
    </div>
{% endblock %}